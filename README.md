## 概述

**edge-ddns-proxy** 是一个运行在边缘计算平台（阿里云、腾讯云、Cloudflare）上的无服务器中间代理服务。它在路由器/光猫使用的传统 DDNS 协议与现代 DNS 服务商 API 之间架起桥梁，使老旧设备能够在现代 DNS 管理平台上更新 DNS 记录。

### 🔄 工作原理

```
┌─────────────────┐        传统 DDNS 协议              ┌──────────────────┐
│   光猫/路由器    │ ════════════════════════════════════>│ edge-ddns-proxy  │
│   (Router/ONT)  │  (DynDNS/no-ip/EasyDNS/qdns等)     │    (边缘函数)     │
└─────────────────┘                                      └──────────────────┘
                                                                   │
                                                                   │ 现代 DNS 服务商 API
                                                                   │
                                                                   v
                                                          ┌──────────────────┐
                                                          │   DNS 服务商     │
                                                          │  - Cloudflare    │
                                                          │  - 阿里云 DNS     │
                                                          │  - 腾讯云 DNS     │
                                                          └──────────────────┘
```

### 📡 支持的 DDNS 协议

- ✅ **DynDNS** - 经典动态 DNS 协议
- ✅ **no-ip** - No-IP DDNS 协议
- ✅ **EasyDNS** - EasyDNS 更新协议
- ✅ **qdns** - QDNS 协议及类似服务
- ⚠️ **oray (花生壳)** - 部分支持

### 🎯 使用场景

此解决方案适用于以下场景：

1. 您的路由器/光猫仅支持传统 DDNS 协议
2. 您的域名使用现代 DNS 服务商（Cloudflare、阿里云 DNS 等）管理

### 🚀 基本配置步骤

1. **配置路由器**
   - 访问路由器的 DDNS 设置
   - 选择支持的协议（DynDNS、no-ip 等）
   - 将代理服务 URL 设为 DDNS 服务器地址
   - 添加您的认证凭证
   - 设置要更新的域名

2. **测试连接**
   - 保存路由器配置
   - 等待第一次更新周期
   - 验证 DNS 记录已正确更新

### 📝 配置示例

路由器 DDNS 设置：
```
服务提供商：DynDNS
DDNS 服务器：your-proxy.edge-platform.com
用户名：your-key
密码：your-api-token
主机名：yourdomain.com
```

### 🔒 安全性

- 大部分传统路由器DDNS协议使用的是纯HTTP协议(不是https),明文传输在 光猫-->边缘节点 理论上又被截获的风险
- 配置API Key时务必使用最新权限.

### 📚 技术细节

**协议流程：**
1. 路由器发送标准 DDNS 更新请求（HTTP GET/POST）
2. 代理提取 IP 地址和主机名
3. 代理调用 DNS 服务商 API 更新记录返回成功/失败响应
